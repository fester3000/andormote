begin
	action compass;
    compass.getAction("COMPASS");
	action ride;
    ride.getAction("RIDE");
    sleep(500);
    int i;
    float bearing = compass.exec("GET", "BEARING");
    float targetBearing = 150;
    ride.setParam("SPEED", 0.8);
    while(!bearingOnCourse(bearing, targetBearing)) {
    	if(bearing < targetBearing - 10) {
        	ride.exec("MOTION_TYPE", "MOVE_RIGHT",500);
        } else {
        	ride.exec("MOTION_TYPE", "MOVE_LEFT",500);
        }
    }
    
    action tts;
    tts.getAction("TTS");
    tts.exec("TEXT", "Kurs obrany Kapitanie!");
    
    ride.exec("MOTION_TYPE", "MOVE_FORWARD",2500);
    
   
   	bool bearingOnCourse(float bearing, float targetBearing) {
    	bool result1 = FALSE;
        bool result2 = FALSE;
   		if(bearing > targetBearing - 10) {
        	result1 = TRUE; 
        }
        if(bearing < targetBearing + 10) {
        	result2 = TRUE;
        }
        bool result = FALSE;
        if(result1 == result2) {
        	result = TRUE;
        }
        return result;   
   }
end